```{r}
library('pracma')
library('Matrix')

(M = matrix(c(25, 20, 15, 20, 16, 12, 15, 12, 9, 5,
20, 16, 12, 25, 20, 15, 15, 12, 9, 4,
15, 12, 9, 15, 12, 9, 10, 8, 6, 3,
20, 25, 15, 16, 20, 12, 12, 15, 9, 4,
16, 20, 12, 20, 25, 15, 12, 15, 9, 5,
12, 15, 9, 12, 15, 9, 8, 10, 6, 3,
15, 15, 10, 12, 12, 8, 9, 9, 6, 3,
12, 12, 8, 15, 15, 10, 9, 9, 6, 3,
9, 9, 6, 9, 9, 6, 6, 6, 4, 2), c(9, 10), byrow = T))

rref(M)
```

```{r}
A = matrix(c(5, 4, 3, 4, 5, 3, 3, 3, 2), c(3, 3), byrow=T)
B = matrix(c(-2/9, -11/9, 1, -11/9, -2/9, 1, 1, 1, 1), c(3, 3), byrow=T)
A %*% B %*% A

rankMatrix(B)[1]
```